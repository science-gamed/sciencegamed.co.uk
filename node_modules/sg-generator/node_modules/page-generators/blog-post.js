var blogPost, mustache, months, getPostLocation;

mustache = require( 'mustache' );
months = require( 'months' );
getPostLocation = require( 'getPostLocation' );


blogPost = function ( template, data, partials ) {
	var pages = [], i;

	i = data.length;
	while ( i-- ) {
		post = data[i];

		pages[i] = {
			path: getPostLocation.fs( post ),
			data: mustache.render( template, post, partials )
		};
	}

	return pages;
};

module.exports = blogPost;