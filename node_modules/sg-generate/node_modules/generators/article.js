var post, mustache, getPath, mostRecent;


mustache = require( 'mustache' );
getPath = require( 'utils/getPath' );
mostRecent = require( 'snippets/mostRecent.js' );


post = function ( data ) {
	var pages, i, id, post, mustacheData;

	pages = [];
	sidebar = mostRecent( data, 5 );

	i = data.articles.length;
	while ( i-- ) {
		mustacheData = data.articles[ i ];
		mustacheData.sidebar = sidebar;

		pages[ pages.length ] = {
			path: 'learn/' + mustacheData.path,
			data: mustache.render( data.templates.article, mustacheData, data.templates.partials )
		};
	}

	return pages;
};


module.exports = post;